<UserControl x:Class="eStarter.Views.Settings.TimeLanguagePanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             FontFamily="Microsoft YaHei, Segoe UI">

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="0,0,20,0">
        <StackPanel Margin="0,0,0,40">
            <!-- Header -->
            <TextBlock Text="Time and language" 
                       FontFamily="Microsoft YaHei Light, Segoe UI Light"
                       FontSize="42" FontWeight="Light"
                       Foreground="{DynamicResource MetroForegroundBrush}"
                       Margin="0,0,0,30"/>

            <!-- Date and Time -->
            <TextBlock Text="Date and time" FontSize="18" FontWeight="Light"
                       Foreground="{DynamicResource MetroAccentBrush}" Margin="0,0,0,15"/>

            <!-- Current Time Display -->
            <Border Background="{DynamicResource MetroSeparatorBrush}" 
                    Padding="20" Margin="0,0,0,20" CornerRadius="4">
                <StackPanel>
                    <TextBlock x:Name="CurrentTimeText" Text="12:00:00"
                               FontSize="48" FontWeight="Light"
                               Foreground="{DynamicResource MetroForegroundBrush}"/>
                    <TextBlock x:Name="CurrentDateText" Text="Monday, January 1, 2024"
                               FontSize="16" 
                               Foreground="{DynamicResource MetroForegroundBrush}"
                               Opacity="0.7"/>
                </StackPanel>
            </Border>

            <!-- Time Zone -->
            <StackPanel Margin="0,0,0,20">
                <TextBlock Text="Time zone" FontSize="14" 
                           Foreground="{DynamicResource MetroForegroundBrush}" Margin="0,0,0,8"/>
                <ComboBox Width="400" Height="32" HorizontalAlignment="Left"
                          Style="{StaticResource MetroComboBoxStyle}"
                          ItemsSource="{Binding TimeZones}"
                          SelectedItem="{Binding SelectedTimeZone, Mode=TwoWay}"
                          DisplayMemberPath="DisplayName"/>
            </StackPanel>

            <!-- Set time automatically -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                <TextBlock Text="Set time automatically" FontSize="14" Width="200" VerticalAlignment="Center"
                           Foreground="{DynamicResource MetroForegroundBrush}"/>
                <ToggleButton Style="{StaticResource MetroToggleSwitchStyle}" 
                              IsChecked="{Binding AutoSetTime, Mode=TwoWay}"/>
            </StackPanel>

            <!-- Set time zone automatically -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,20">
                <TextBlock Text="Set time zone automatically" FontSize="14" Width="200" VerticalAlignment="Center"
                           Foreground="{DynamicResource MetroForegroundBrush}"/>
                <ToggleButton Style="{StaticResource MetroToggleSwitchStyle}" 
                              IsChecked="{Binding AutoSetTimeZone, Mode=TwoWay}"/>
            </StackPanel>

            <!-- Region and Language -->
            <TextBlock Text="Region and language" FontSize="18" FontWeight="Light"
                       Foreground="{DynamicResource MetroAccentBrush}" Margin="0,20,0,15"/>

            <!-- Language with instant preview -->
            <StackPanel Margin="0,0,0,20">
                <TextBlock Text="Display language" FontSize="14" 
                           Foreground="{DynamicResource MetroForegroundBrush}" Margin="0,0,0,8"/>
                <ComboBox x:Name="LanguageComboBox" Width="200" Height="32" HorizontalAlignment="Left"
                          Style="{StaticResource MetroComboBoxStyle}"
                          ItemsSource="{Binding Languages}"
                          SelectedItem="{Binding SelectedLanguage, Mode=TwoWay}"
                          SelectionChanged="LanguageComboBox_SelectionChanged"/>
                <TextBlock Text="Changes will take effect after restarting the app." 
                           FontSize="12" Foreground="{DynamicResource MetroForegroundBrush}"
                           Opacity="0.6" Margin="0,5,0,0"/>
            </StackPanel>

            <!-- Language Preview -->
            <Border Background="{DynamicResource MetroSeparatorBrush}" 
                    Padding="15" Margin="0,0,0,20" CornerRadius="4">
                <StackPanel>
                    <TextBlock Text="Preview" FontSize="12" 
                               Foreground="{DynamicResource MetroForegroundBrush}" Opacity="0.6" Margin="0,0,0,10"/>
                    <TextBlock x:Name="PreviewText" FontSize="14"
                               Foreground="{DynamicResource MetroForegroundBrush}">
                        <Run x:Name="PreviewHello" Text="Hello"/>
                        <Run Text=" | "/>
                        <Run x:Name="PreviewSettings" Text="Settings"/>
                        <Run Text=" | "/>
                        <Run x:Name="PreviewAbout" Text="About"/>
                    </TextBlock>
                </StackPanel>
            </Border>

            <!-- Country/Region -->
            <StackPanel Margin="0,0,0,20">
                <TextBlock Text="Country or region" FontSize="14" 
                           Foreground="{DynamicResource MetroForegroundBrush}" Margin="0,0,0,8"/>
                <ComboBox Width="300" Height="32" HorizontalAlignment="Left"
                          Style="{StaticResource MetroComboBoxStyle}"
                          SelectedIndex="0">
                    <ComboBoxItem Content="United States"/>
                    <ComboBoxItem Content="China"/>
                    <ComboBoxItem Content="Japan"/>
                    <ComboBoxItem Content="United Kingdom"/>
                    <ComboBoxItem Content="Germany"/>
                    <ComboBoxItem Content="France"/>
                </ComboBox>
            </StackPanel>

            <!-- Keyboard -->
            <TextBlock Text="Keyboard" FontSize="18" FontWeight="Light"
                       Foreground="{DynamicResource MetroAccentBrush}" Margin="0,20,0,15"/>

            <TextBlock Text="Add or remove keyboards for your language."
                       FontSize="13" Foreground="{DynamicResource MetroForegroundBrush}"
                       Opacity="0.8" Margin="0,0,0,15"/>

            <StackPanel>
                <Border BorderBrush="{DynamicResource MetroSeparatorBrush}" BorderThickness="0,0,0,1" Padding="0,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="English (US)" FontSize="14"
                                       Foreground="{DynamicResource MetroForegroundBrush}"/>
                            <TextBlock Text="QWERTY" FontSize="12"
                                       Foreground="{DynamicResource MetroForegroundBrush}" Opacity="0.6"/>
                        </StackPanel>
                        <TextBlock Grid.Column="1" Text="Default" FontSize="12"
                                   Foreground="{DynamicResource MetroAccentBrush}" VerticalAlignment="Center"/>
                    </Grid>
                </Border>
                <Border BorderBrush="{DynamicResource MetroSeparatorBrush}" BorderThickness="0,0,0,1" Padding="0,12">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel>
                            <TextBlock Text="Chinese (Simplified)" FontSize="14"
                                       Foreground="{DynamicResource MetroForegroundBrush}"/>
                            <TextBlock Text="Microsoft Pinyin" FontSize="12"
                                       Foreground="{DynamicResource MetroForegroundBrush}" Opacity="0.6"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </StackPanel>

            <Button Content="Add a keyboard" 
                    Height="32" Padding="20,0"
                    HorizontalAlignment="Left"
                    Background="{DynamicResource MetroSeparatorBrush}"
                    Foreground="{DynamicResource MetroForegroundBrush}"
                    BorderThickness="0" Cursor="Hand" Margin="0,15,0,0">
                <Button.Template>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd" Background="{TemplateBinding Background}" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="{DynamicResource MetroAccentBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Button.Template>
            </Button>
        </StackPanel>
    </ScrollViewer>
</UserControl>
